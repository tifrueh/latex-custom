\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cmath}[2025-06-08 Custom math package]

% Load AMS packages.
\RequirePackage{amsmath}
\RequirePackage{amssymb}

% Define custom commands.
\renewcommand{\hat}{\widehat}
\renewcommand{\emptyset}{\varnothing}
\newcommand{\defas}[1]{\stackrel{\text{def}}{#1}}
\newcommand{\lImplies}{\mathbin{\rightarrow}}
\newcommand{\lIff}{\mathbin{\leftrightarrow}}
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\card}[1]{\abs{#1}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\set}[2]{\left\{#1\;\middle\vert\;#2\right\}}
\newcommand{\comp}{\mathbin{\circ}}
\newcommand{\grad}{\nabla}
\DeclareMathOperator{\gf}{GF}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\REF}{REF}
\DeclareMathOperator{\RREF}{RREF}
\DeclareMathOperator{\vecspan}{\mathbf{Span}}
\DeclareMathOperator{\colsp}{\mathbf{C}}
\DeclareMathOperator{\rowsp}{\mathbf{R}}
\DeclareMathOperator{\nullsp}{\mathbf{N}}
\DeclareMathOperator{\lnullsp}{\mathbf{LN}}
\DeclareMathOperator{\solsp}{\mathbf{Sol}}
\DeclareMathOperator{\rank}{\mathbf{rank}}
\DeclareMathOperator{\tr}{\mathbf{Tr}}
\DeclareMathOperator{\proj}{proj}
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator{\sgn}{sgn}
\DeclareMathOperator{\divg}{div}
\DeclareMathOperator{\curl}{curl}
\DeclareMathOperator{\hess}{Hess}
\DeclareMathOperator{\vol}{Vol}

% More complex commands.
\newcommand{\intvl}[3]{
    \ifx#1o
        \left]
    \else
        \if#1c
            \left[
        \else
            \PackageError{cmath}{Left interval bound must be 'o'pen or 'c'losed}
        \fi
    \fi
    #3
    \if#2o
        \right[
    \else
        \if#2c
            \right]
        \else
            \PackageError{cmath}{Right interval bound must be 'o'pen or 'c'losed}
        \fi
    \fi
}
